<?xml version="1.0" encoding="UTF-8"?>
<prov:document xmlns:prov="http://www.w3.org/ns/prov#"
               xmlns:xsd="http://www.w3.org/2001/XMLSchema#">

    <!-- Entidad: Tabla l2_ratings -->
    <prov:entity prov:id="ex:l2_ratings">
        <prov:label>Tabla l2_ratings</prov:label>
        <prov:description>Tabla derivada con calificaciones (ratings) por usuario para libros. Diseñada para enlazar con `books.csv` vía ISBN.</prov:description>
        <prov:creationDate>fecha</prov:creationDate>
        <prov:source>
            <prov:url>https://www.kaggle.com/datasets/saurabhbagchi/books-dataset</prov:url>
            <prov:downloadDate>2025-09-02T18:39:21</prov:downloadDate>
        </prov:source>
        <prov:columns>
            <prov:column>
                <prov:name>User-ID</prov:name>
                <prov:type>integer</prov:type>
                <prov:reason>Identificador único del usuario que realiza la calificación.</prov:reason>
            </prov:column>
            <prov:column>
                <prov:name>isbn</prov:name>
                <prov:type>text</prov:type>
                <prov:reason>Identificador del libro calificado (ISBN); referencia a `books.csv`.</prov:reason>
            </prov:column>
            <prov:column>
                <prov:name>book-rating</prov:name>
                <prov:type>integer</prov:type>
                <prov:reason>Puntuación otorgada por el usuario al libro (escala de 0 a 10).</prov:reason>
            </prov:column>
        </prov:columns>
    </prov:entity>

    <!-- Actividad: Creación de l2_ratings -->
    <prov:activity prov:id="ex:generate_l2_ratings"
                   prov:startTime="2025-10-22T00:00:00"
                   prov:endTime="2025-10-22T00:10:00">
        <prov:label>Generar la tabla de l2_ratings</prov:label>
        <prov:description>Extracción y transformación de las calificaciones para crear la tabla l2_ratings y su enlace con libros por ISBN.</prov:description>
    </prov:activity>

    <!-- Agentes involucrados -->
    <prov:agent prov:id="ex:user_me">
        <prov:label>Usuario Responsable</prov:label>
        <prov:type>prov:Person</prov:type>
        <prov:role>Responsable de la extracción y transformación de datos para l2_ratings.</prov:role>
    </prov:agent>

    <prov:agent prov:id="ex:postgresql_db">
        <prov:label>Postgresql Import</prov:label>
        <prov:type>prov:SoftwareAgent</prov:type>
        <prov:role>Herramienta para cargar los datos</prov:role>
    </prov:agent>

    <!-- Relaciones -->
    <prov:wasGeneratedBy prov:entity="ex:l2_ratings"
                         prov:activity="ex:generate_l2_ratings"/>
    <prov:wasDerivedFrom prov:generatedEntity="ex:l2_ratings"
                         prov:usedEntity="ex:raw_ratings_source"/>
    <prov:wasAssociatedWith prov:activity="ex:generate_l2_ratings"
                            prov:agent="ex:user_me"/>
    <prov:wasAssociatedWith prov:activity="ex:generate_l2_ratings"
                            prov:agent="ex:postgresql_db"/>
    <prov:used prov:activity="ex:generate_l2_ratings"
               prov:entity="ex:raw_ratings_source"/>

</prov:document>
